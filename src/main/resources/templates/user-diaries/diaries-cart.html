<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/css/bootstrap.lumen.min.css" rel="stylesheet">
    <title>Diaries Cart</title>
</head>
<body>
<div th:replace="~{fragments/navbars/user-logged-nav}"></div>
<main>
    <div class="container py-5 mt-5">
        <div class="row">
            <div class="col-8 mx-auto border rounded">
                <div th:if="${pendingDeletionViewModels == null || pendingDeletionViewModels.isEmpty()}"
                     class="mb-3 mt-3">
                    <h2 class="text-center">The Cart Is Empty</h2>
                </div>
                <div th:if="${pendingDeletionViewModels != null && !pendingDeletionViewModels.isEmpty()}">
                    <div class="mb-3 mt-3">
                        <h2 class="text-center">Pending Deletion</h2>
                    </div>
                    <table class="table table-striped border border-secondary">
                        <thead>
                        <tr>
                            <th>Title</th>
                            <th>Last Edit Date</th>
                            <th>Time Until Diary Deletion</th>
                            <th>Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="pendingDeletionViewModel : ${pendingDeletionViewModels}">
                            <td th:text="${pendingDeletionViewModel.getDiaryTitle()}"></td>
                            <td th:text="${pendingDeletionViewModel.getLastEditDiaryDate()}"></td>
                            <td th:text="${pendingDeletionViewModel.getTimeUntilDiaryDeletion()}"></td>
                            <td><a th:href="'/diaries/cart/restore/'+${pendingDeletionViewModel.getId()}"
                                   class="btn btn-outline-primary">Restore
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                                     class="bi bi-file-earmark-arrow-up-fill" viewBox="0 0 16 16">
                                    <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1M6.354 9.854a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 8.707V12.5a.5.5 0 0 1-1 0V8.707z"/>
                                </svg>
                            </a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mb-3">
                    <a href="/diaries" class="btn btn-secondary">Go Back</a>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>
</html>